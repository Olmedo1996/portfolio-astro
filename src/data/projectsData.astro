---
import { projects } from '@/cv';
import { TAGS } from '@/data/tags.astro';

export const PROJECTS = projects.map(project => {
    const { name, description, highlights, startDate, endDate, url, isActive, image} = project

    const tags = TAGS.map(tag => {
        if(highlights.includes(tag.name)) {
            return {
                name: tag.name,
                icon: tag.icon,
                class: tag.class
            }
        }
    }) 

    return {
        title: name,
        description,
        link: url,
        tags: tags.filter(tag => Boolean(tag)),
        image
    }
})
---
